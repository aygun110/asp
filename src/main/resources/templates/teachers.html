
<!DOCTYPE html>
<html lang="ru" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8" />
    <title>–ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–∏</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
    <style>
        body {
          background-color: #f8f9fa;
        }
        .teacher-icon {
          font-size: 80px;
          color: #007bff;
        }
        .card-container {
          position: relative;
          display: flex;
          justify-content: center;
          align-items: center;
          height: auto;
          transition: opacity 0.5s ease, transform 0.5s ease;
          opacity: 1;
          transform: scale(1);
        }
        .card-container.hidden {
          opacity: 0;
          transform: scale(0.8);
        }
        .card {
          width: 100%;
          max-width: 400px;
          margin: auto;
          text-align: center;
          transition: all 0.3s ease;
        }
        .arrow {
          position: absolute;
          top: 50%;
          transform: translateY(-50%);
          font-size: 2rem;
          color: #007bff;
          cursor: pointer;
          z-index: 10;
        }
        .arrow-left {
          left: 20px;
        }
        .arrow-right {
          right: 20px;
        }
        .dots {
          display: flex;
          justify-content: center;
          margin-top: 20px;
        }
        .dot {
          width: 12px;
          height: 12px;
          margin: 0 6px;
          border-radius: 50%;
          background-color: #ccc;
          cursor: pointer;
          transition: background-color 0.3s;
        }
        .dot.active {
          background-color: #007bff;
        }
        .filter-container {
          margin-bottom: 20px;
          display: flex;
          justify-content: center;
        }
        .collapse-form {
          max-height: 0;
          overflow: hidden;
          transition: max-height 0.4s ease, opacity 0.4s ease;
          opacity: 0;
        }
        .collapse-form.show {
          max-height: 400px;
          opacity: 1;
          margin-top: 1rem;
        }
        .admin-badge {
            font-size: 1rem;
            padding: 0.35em 0.65em;
        }
        #adminTeacherCard, #userTeacherCard {
            display: block;
        }

    </style>
</head>
<body>
<!-- –î–æ–±–∞–≤–ª–µ–Ω–Ω–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ–± —É—Å–ø–µ—à–Ω–æ–π –∑–∞–ø–∏—Å–∏ -->
<div th:if="${param.success}" class="alert alert-success alert-dismissible fade show position-fixed top-0 end-0 m-3" role="alert" style="z-index: 1000;">
    <strong>–£—Å–ø–µ—à–Ω–æ!</strong> –í—ã –∑–∞–ø–∏—Å–∞–Ω—ã –∫ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—é.
    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
</div>

<div class="container mt-5 pt-3">
    <!-- –û–±—â–∏–π –∑–∞–≥–æ–ª–æ–≤–æ–∫ -->
    <h2 class="mb-4 text-center">üßë‚Äçüè´ –ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–∏</h2>

    <!-- –ë–ª–æ–∫ –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ -->
    <div th:if="${#authentication.principal.authorities.?[authority == 'ROLE_ADMIN'].size() > 0}" id="adminSection">
        <div class="d-flex justify-content-between align-items-center mb-4">
            <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ "–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è–º–∏" —Å–ª–µ–≤–∞ -->
            <h3 class="mb-0">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è–º–∏</h3>

            <!-- –ö–Ω–æ–ø–∫–∏ —Å–ø—Ä–∞–≤–∞ -->
            <div class="d-flex">
                <!-- –ö–Ω–æ–ø–∫–∞ "–ò—Å—Ç–æ—Ä–∏—è –∑–∞–ø–∏—Å–µ–π" -->
                <button class="btn btn-primary me-2" th:onclick="'window.location.href=\'' + @{/admin/history} + '\''">
                    <i class="fas fa-history me-2"></i>–ò—Å—Ç–æ—Ä–∏—è –∑–∞–ø–∏—Å–µ–π
                </button>
                <!-- –ö–Ω–æ–ø–∫–∞ "–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞" -->
                <button class="btn btn-secondary" th:onclick="'window.location.href=\'' + @{/admin/statistics} + '\''">
                    <i class="fas fa-chart-line"></i>
                </button>
            </div>
        </div>

        <p class="text-center mb-4">
            –í –Ω–∞—à–µ–π —Å–ø–æ—Ä—Ç–∏–≤–Ω–æ–π —à–∫–æ–ª–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ–º–∞–Ω–¥–∞ –æ–ø—ã—Ç–Ω—ã—Ö –∏ –∫–≤–∞–ª–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–π, –ø—Ä–µ–¥–∞–Ω–Ω—ã—Ö —Å–≤–æ–µ–º—É –¥–µ–ª—É.
        </p>

        <!-- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –≤–∏–¥–∞–º —Å–ø–æ—Ä—Ç–∞ –¥–ª—è –∞–¥–º–∏–Ω–∞ -->
        <div class="filter-container">
            <select id="adminSportFilter" class="form-select w-50" onchange="filterAdminTeachers()">
                <option value="all">–í—Å–µ –≤–∏–¥—ã —Å–ø–æ—Ä—Ç–∞</option>
                <option value="–§—É—Ç–±–æ–ª">–§—É—Ç–±–æ–ª</option>
                <option value="–ì–∏–º–Ω–∞—Å—Ç–∏–∫–∞">–ì–∏–º–Ω–∞—Å—Ç–∏–∫–∞</option>
                <option value="–û–§–ü">–û–§–ü / –ê—Ç–ª–µ—Ç–∏–∫–∞</option>
                <option value="–ü–ª–∞–≤–∞–Ω–∏–µ">–ü–ª–∞–≤–∞–Ω–∏–µ</option>
                <option value="–î–∑—é–¥–æ">–î–∑—é–¥–æ / –ë–æ–µ–≤—ã–µ –∏—Å–∫—É—Å—Å—Ç–≤–∞</option>
                <option value="–ë–∞—Å–∫–µ—Ç–±–æ–ª">–ë–∞—Å–∫–µ—Ç–±–æ–ª</option>
                <option value="–õ—ë–≥–∫–∞—è –∞—Ç–ª–µ—Ç–∏–∫–∞">–õ—ë–≥–∫–∞—è –∞—Ç–ª–µ—Ç–∏–∫–∞</option>
                <option value="–°–∞–º–±–æ">–°–∞–º–±–æ</option>
            </select>
        </div>

        <!-- –ö–∞—Ä—É—Å–µ–ª—å –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–π –¥–ª—è –∞–¥–º–∏–Ω–∞ -->
        <div class="card-container" id="adminCardContainer">
            <div id="adminTeacherCard" class="card shadow p-4">
                <!-- –ö–æ–Ω—Ç–µ–Ω—Ç –±—É–¥–µ—Ç –∑–∞–ø–æ–ª–Ω–µ–Ω JavaScript -->
            </div>
        </div>

        <!-- –°—Ç—Ä–µ–ª–∫–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –¥–ª—è –∞–¥–º–∏–Ω–∞ -->
        <div class="arrow arrow-left" onclick="changeAdminSlide(-1)">
            <i class="fa-solid fa-chevron-left"></i>
        </div>
        <div class="arrow arrow-right" onclick="changeAdminSlide(1)">
            <i class="fa-solid fa-chevron-right"></i>
        </div>

        <!-- –¢–æ—á–∫–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –¥–ª—è –∞–¥–º–∏–Ω–∞ -->
        <div class="dots" id="adminDotsContainer"></div>
    </div>


    <!-- –ë–ª–æ–∫ –¥–ª—è –æ–±—ã—á–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è -->
    <div th:unless="${#authentication.principal.authorities.?[authority == 'ROLE_ADMIN'].size() > 0}" id="userSection">
        <p class="text-center mb-4">
            –í –Ω–∞—à–µ–π —Å–ø–æ—Ä—Ç–∏–≤–Ω–æ–π —à–∫–æ–ª–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ–º–∞–Ω–¥–∞ –æ–ø—ã—Ç–Ω—ã—Ö –∏ –∫–≤–∞–ª–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–π, –ø—Ä–µ–¥–∞–Ω–Ω—ã—Ö —Å–≤–æ–µ–º—É –¥–µ–ª—É.
        </p>

        <!-- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –≤–∏–¥–∞–º —Å–ø–æ—Ä—Ç–∞ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è -->
        <div class="filter-container">
            <select id="userSportFilter" class="form-select w-50" onchange="filterUserTeachers()">
                <option value="all">–í—Å–µ –≤–∏–¥—ã —Å–ø–æ—Ä—Ç–∞</option>
                <option value="–§—É—Ç–±–æ–ª">–§—É—Ç–±–æ–ª</option>
                <option value="–ì–∏–º–Ω–∞—Å—Ç–∏–∫–∞">–ì–∏–º–Ω–∞—Å—Ç–∏–∫–∞</option>
                <option value="–û–§–ü">–û–§–ü / –ê—Ç–ª–µ—Ç–∏–∫–∞</option>
                <option value="–ü–ª–∞–≤–∞–Ω–∏–µ">–ü–ª–∞–≤–∞–Ω–∏–µ</option>
                <option value="–î–∑—é–¥–æ">–î–∑—é–¥–æ / –ë–æ–µ–≤—ã–µ –∏—Å–∫—É—Å—Å—Ç–≤–∞</option>
                <option value="–ë–∞—Å–∫–µ—Ç–±–æ–ª">–ë–∞—Å–∫–µ—Ç–±–æ–ª</option>
                <option value="–õ—ë–≥–∫–∞—è –∞—Ç–ª–µ—Ç–∏–∫–∞">–õ—ë–≥–∫–∞—è –∞—Ç–ª–µ—Ç–∏–∫–∞</option>
                <option value="–°–∞–º–±–æ">–°–∞–º–±–æ</option>
            </select>
        </div>

        <!-- –ö–∞—Ä—É—Å–µ–ª—å –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–π –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è -->
        <div class="card-container" id="userCardContainer">
            <div id="userTeacherCard" class="card shadow p-4">
                <!-- –ö–æ–Ω—Ç–µ–Ω—Ç –±—É–¥–µ—Ç –∑–∞–ø–æ–ª–Ω–µ–Ω JavaScript -->
            </div>
        </div>

        <!-- –°—Ç—Ä–µ–ª–∫–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è -->
        <div class="arrow arrow-left" onclick="changeUserSlide(-1)">
            <i class="fa-solid fa-chevron-left"></i>
        </div>
        <div class="arrow arrow-right" onclick="changeUserSlide(1)">
            <i class="fa-solid fa-chevron-right"></i>
        </div>

        <!-- –¢–æ—á–∫–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è -->
        <div class="dots" id="userDotsContainer"></div>
    </div>
</div>

<script>
    const teachers = [
      {
        name: "–ò–≤–∞–Ω–æ–≤ –ê–ª–µ–∫—Å–µ–π –°–µ—Ä–≥–µ–µ–≤–∏—á",
        sport: "–§—É—Ç–±–æ–ª",
        text: "42 –≥–æ–¥–∞<br>–¢—Ä–µ–Ω–µ—Ä –ø–æ —Ñ—É—Ç–±–æ–ª—É, –º–∞—Å—Ç–µ—Ä —Å–ø–æ—Ä—Ç–∞, –æ–ø—ã—Ç —Ä–∞–±–æ—Ç—ã –±–æ–ª–µ–µ 10 –ª–µ—Ç.",
        schedule: "–ü–Ω, –°—Ä, –ü—Ç: 16:00-20:00"
      },
      {
        name: "–ü–µ—Ç—Ä–æ–≤–∞ –ú–∞—Ä–∏–Ω–∞ –í–∏–∫—Ç–æ—Ä–æ–≤–Ω–∞",
        sport: "–ì–∏–º–Ω–∞—Å—Ç–∏–∫–∞",
        text: "38 –ª–µ—Ç<br>–ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å –ø–æ —Ö—É–¥–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–π –≥–∏–º–Ω–∞—Å—Ç–∏–∫–µ, —Å—É–¥—å—è –º–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏.",
        schedule: "–í—Ç, –ß—Ç: 15:00-19:00, –°–±: 10:00-14:00"
      },
      {
        name: "–°–º–∏—Ä–Ω–æ–≤ –î–º–∏—Ç—Ä–∏–π –ü–∞–≤–ª–æ–≤–∏—á",
        sport: "–û–§–ü",
        text: "45 –ª–µ—Ç<br>–ò–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –ø–æ –æ–±—â–µ—Ñ–∏–∑–∏—á–µ—Å–∫–æ–π –ø–æ–¥–≥–æ—Ç–æ–≤–∫–µ, –∫–∞–Ω–¥–∏–¥–∞—Ç –ø–µ–¥–∞–≥–æ–≥–∏—á–µ—Å–∫–∏—Ö –Ω–∞—É–∫.",
        schedule: "–ü–Ω-–ü—Ç: 9:00-12:00, 17:00-20:00"
      },
      {
        name: "–ö—É–∑–Ω–µ—Ü–æ–≤–∞ –ï–ª–µ–Ω–∞ –ê–ª–µ–∫—Å–∞–Ω–¥—Ä–æ–≤–Ω–∞",
        sport: "–ü–ª–∞–≤–∞–Ω–∏–µ",
        text: "34 –≥–æ–¥–∞<br>–¢—Ä–µ–Ω–µ—Ä –ø–æ –ø–ª–∞–≤–∞–Ω–∏—é, –º–Ω–æ–≥–æ–∫—Ä–∞—Ç–Ω—ã–π –ø—Ä–∏–∑—ë—Ä –≤—Å–µ—Ä–æ—Å—Å–∏–π—Å–∫–∏—Ö —Å–æ—Ä–µ–≤–Ω–æ–≤–∞–Ω–∏–π.",
        schedule: "–í—Ç, –ß—Ç, –°–±: 7:00-10:00, 16:00-19:00"
      },
      {
        name: "–û—Ä–ª–æ–≤ –ù–∏–∫–æ–ª–∞–π –ò–≥–æ—Ä–µ–≤–∏—á",
        sport: "–î–∑—é–¥–æ",
        text: "40 –ª–µ—Ç<br>–ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å –ø–æ –¥–∑—é–¥–æ, —á—ë—Ä–Ω—ã–π –ø–æ—è—Å, —É—á–∞—Å—Ç–Ω–∏–∫ –º–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω—ã—Ö —Ç—É—Ä–Ω–∏—Ä–æ–≤.",
        schedule: "–ü–Ω, –°—Ä, –ü—Ç: 18:00-21:00"
      },
      {
        name: "–§—ë–¥–æ—Ä–æ–≤ –ê—Ä—Ç—ë–º –í–ª–∞–¥–∏–º–∏—Ä–æ–≤–∏—á",
        sport: "–ë–∞—Å–∫–µ—Ç–±–æ–ª",
        text: "36 –ª–µ—Ç<br>–¢—Ä–µ–Ω–µ—Ä –ø–æ –±–∞—Å–∫–µ—Ç–±–æ–ª—É, –ö–ú–°, –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å –ø–æ –∫–æ–º–∞–Ω–¥–Ω—ã–º –≤–∏–¥–∞–º —Å–ø–æ—Ä—Ç–∞.",
        schedule: "–í—Ç, –ß—Ç: 17:00-20:00, –°–±: 11:00-15:00"
      },
      {
        name: "–ì—Ä–æ–º–æ–≤–∞ –ê–Ω–Ω–∞ –°–µ—Ä–≥–µ–µ–≤–Ω–∞",
        sport: "–û–§–ü",
        text: "29 –ª–µ—Ç<br>–°–ø–µ—Ü–∏–∞–ª–∏—Å—Ç –ø–æ –û–§–ü –∏ –ª—ë–≥–∫–æ–π –∞—Ç–ª–µ—Ç–∏–∫–µ, —É—á–∞—Å—Ç–Ω–∏–∫ –≤—Å–µ—Ä–æ—Å—Å–∏–π—Å–∫–∏—Ö –º–∞—Ä–∞—Ñ–æ–Ω–æ–≤.",
        schedule: "–ü–Ω-–°–±: 8:00-11:00"
      },
      {
        name: "–ú–µ–ª—å–Ω–∏–∫–æ–≤ –°—Ç–µ–ø–∞–Ω –ê—Ä–∫–∞–¥—å–µ–≤–∏—á",
        sport: "–°–∞–º–±–æ",
        text: "43 –≥–æ–¥–∞<br>–¢—Ä–µ–Ω–µ—Ä –ø–æ —Å–∞–º–±–æ, –º–∞—Å—Ç–µ—Ä —Å–ø–æ—Ä—Ç–∞, –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å –±–æ–µ–≤—ã—Ö –∏—Å–∫—É—Å—Å—Ç–≤.",
        schedule: "–ü–Ω, –°—Ä, –ü—Ç: 19:00-22:00"
      },
      {
        name: "–õ–µ–±–µ–¥–µ–≤–∞ –ò—Ä–∏–Ω–∞ –Æ—Ä—å–µ–≤–Ω–∞",
        sport: "–õ—ë–≥–∫–∞—è –∞—Ç–ª–µ—Ç–∏–∫–∞",
        text: "32 –≥–æ–¥–∞<br>–¢—Ä–µ–Ω–µ—Ä –ø–æ –ª—ë–≥–∫–æ–π –∞—Ç–ª–µ—Ç–∏–∫–µ, —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è ‚Äì —Å–ø—Ä–∏–Ω—Ç –∏ –ø—Ä—ã–∂–∫–∏ –≤ –¥–ª–∏–Ω—É.",
        schedule: "–í—Ç, –ß—Ç: 16:00-19:00, –°–±: 9:00-12:00"
      }
    ];

    // –û–±—ä–µ–∫—Ç—ã —Å —Ç–µ–∫—É—â–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏
    const carousels = {
      admin: {
        currentIndex: 0,
        filteredTeachers: teachers,
        cardId: "adminTeacherCard",
        containerId: "adminCardContainer",
        dotsContainerId: "adminDotsContainer",
        isAdmin: true,
      },
      user: {
        currentIndex: 0,
        filteredTeachers: teachers,
        cardId: "userTeacherCard",
        containerId: "userCardContainer",
        dotsContainerId: "userDotsContainer",
        isAdmin: false,
      }
    };

    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
    document.addEventListener('DOMContentLoaded', function () {
      renderCard("admin");
      renderCard("user");
      updateDots("admin");
      updateDots("user");
    });

    // –†–µ–Ω–¥–µ—Ä –∫–∞—Ä—Ç–æ—á–∫–∏
    function renderCard(role) {
      const carousel = carousels[role];
      const teacher = carousel.filteredTeachers[carousel.currentIndex];
      const card = document.getElementById(carousel.cardId);
      const container = document.getElementById(carousel.containerId);

      container.classList.add("hidden");

      setTimeout(() => {
        card.innerHTML = `
          <i class="fa-solid fa-circle-user teacher-icon mb-3"></i>
          <h5 class="card-title">${teacher.name}</h5>
          <h6 class="card-subtitle mb-2 text-muted">${teacher.sport}</h6>
          <p class="card-text">${teacher.text}</p>
          <div class="mt-3">
              ${!carousel.isAdmin
                ? `<button class="btn btn-success w-100" onclick="toggleUserForm()">
                     <i class="fas fa-calendar-plus me-2"></i>–ó–∞–ø–∏—Å–∞—Ç—å—Å—è
                   </button>
                   <div id="userRegisterForm" class="collapse-form">
                      <form method="post" action="/register-to-teacher" class="mt-3">
                          <input type="hidden" name="teacherName" value="${teacher.name}">
                          <input type="hidden" name="sportType" value="${teacher.sport}">

                          <div class="mb-3">
                              <label class="form-label">–í–∞—à–µ –∏–º—è</label>
                              <input type="text" name="userName" class="form-control" required>
                          </div>

                          <div class="mb-3">
                              <label class="form-label">–¢–µ–ª–µ—Ñ–æ–Ω</label>
                              <input type="tel" name="phone" class="form-control" required>
                          </div>
                          <div class="mb-3">
                              <label class="form-label">–ì—Ä—É–ø–ø–∞</label>
                              <input type="text" name="groupName" class="form-control" required>
                          </div>

                          <div class="mb-3">
                             <label class="form-label">–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ</label>
                               <input type="text" name="schedule" class="form-control" value="${teacher.schedule}" readonly />
                           </div>


                          <button type="submit" class="btn btn-primary w-100">
                              <i class="fas fa-check me-2"></i>–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –∑–∞–ø–∏—Å—å
                          </button>
                      </form>
                   </div>`
                : ''}
          </div>
        `;

        // –ü–ª–∞–≤–Ω–æ–µ –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∏–µ –∞–Ω–∏–º–∞—Ü–∏–∏
        setTimeout(() => {
          container.classList.remove("hidden");
        }, 50);

        updateDots(role);
      }, 250);
    }

    // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Å–ª–∞–π–¥–æ–≤
    function changeSlide(role, direction) {
      const carousel = carousels[role];
      const len = carousel.filteredTeachers.length;
      carousel.currentIndex = (carousel.currentIndex + direction + len) % len;
      renderCard(role);
    }

    // –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è
    function filterTeachers(role) {
      const value = document.getElementById(role + "SportFilter").value;
      carousels[role].filteredTeachers =
        value === "all"
          ? teachers
          : teachers.filter(t => t.sport === value);
      carousels[role].currentIndex = 0;
      renderCard(role);
      updateDots(role);
    }

    // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ—á–µ–∫
    function updateDots(role) {
      const { filteredTeachers, currentIndex, dotsContainerId } = carousels[role];
      const dotsContainer = document.getElementById(dotsContainerId);
      dotsContainer.innerHTML = '';

      filteredTeachers.forEach((_, i) => {
        const dot = document.createElement("div");
        dot.className = `dot ${i === currentIndex ? "active" : ""}`;
        dot.onclick = () => {
          carousels[role].currentIndex = i;
          renderCard(role);
        };
        dotsContainer.appendChild(dot);
      });
    }

    // –û—Ç–∫—Ä—ã—Ç–∏–µ/–∑–∞–∫—Ä—ã—Ç–∏–µ —Ñ–æ—Ä–º—ã –∑–∞–ø–∏—Å–∏
    function toggleUserForm() {
      const form = document.getElementById("userRegisterForm");
      form.classList.toggle("show");
    }

    // –î–ª—è —Ñ–∏–ª—å—Ç—Ä–∞
    function filterAdminTeachers() {
      filterTeachers("admin");
    }

    function filterUserTeachers() {
      filterTeachers("user");
    }

    // –î–ª—è —Å—Ç—Ä–µ–ª–æ–∫
    function changeAdminSlide(dir) {
      changeSlide("admin", dir);
    }

    function changeUserSlide(dir) {
      changeSlide("user", dir);
    }
</script>

</body>
</html>







